<!DOCTYPE html>
<html lang="es" class="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Architect OS | Dark Mode Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dayjs/1.11.10/dayjs.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dayjs/1.11.10/locale/es.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        dark: {
                            bg: '#000000',
                            surface: '#1C1C1E',
                            border: '#38383A'
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* --- CORE VARIABLES --- */
        :root {
            --bg-body: #F5F5F7;
            --text-main: #1D1D1F;
            --text-secondary: #6e6e73;
            --glass-bg: rgba(255, 255, 255, 0.75);
            --glass-border: rgba(255, 255, 255, 0.4);
            --panel-bg: rgba(255, 255, 255, 0.85);
            --timeline-line: #E5E5EA;
            --accent-blue: #2563eb;
        }

        [data-theme="dark"] {
            --bg-body: #000000;
            --text-main: #F5F5F7;
            --text-secondary: #A1A1A6;
            --glass-bg: rgba(28, 28, 30, 0.75);
            --glass-border: rgba(255, 255, 255, 0.1);
            --panel-bg: rgba(28, 28, 30, 0.85);
            --timeline-line: #38383A;
            --accent-blue: #3B82F6;
        }

        body { 
            font-family: 'Inter', sans-serif; 
            background-color: var(--bg-body); 
            color: var(--text-main);
            transition: background-color 0.3s ease, color 0.3s ease;
            overflow-x: hidden;
        }

        /* --- THEME SWITCHER ANIMATION (SUN/MOON) --- */
        .theme-toggle {
            cursor: pointer;
            padding: 0;
            border: none;
            background: transparent;
            color: var(--text-main);
            position: relative;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background 0.3s ease;
        }
        .theme-toggle:hover { background: rgba(128,128,128, 0.1); }
        
        .sun-and-moon { width: 24px; height: 24px; }
        .sun-and-moon > :is(.moon, .sun, .sun-beams) { transform-origin: center; transition: transform .5s cubic-bezier(.5, 1.25, .75, 1.25); }
        .sun-and-moon > :is(.moon, .sun) { fill: var(--text-main); }
        .theme-toggle:is(:hover, :focus-visible) > .sun-and-moon > :is(.moon, .sun) { fill: var(--accent-blue); }
        .sun-and-moon > .sun-beams { stroke: var(--text-main); stroke-width: 2px; }
        .theme-toggle:is(:hover, :focus-visible) .sun-and-moon > .sun-beams { stroke: var(--accent-blue); }
        
        [data-theme="dark"] .sun-and-moon > .sun { transform: scale(1.75); }
        [data-theme="dark"] .sun-and-moon > .sun-beams { opacity: 0; transform: rotate(-25deg); transition-duration: .15s; }
        [data-theme="dark"] .sun-and-moon > .moon > circle { transform: translateX(-7px); }

        /* --- VIEW TRANSITION (THE CIRCULAR EXPANSION EFFECT) --- */
        ::view-transition-old(root),
        ::view-transition-new(root) {
            animation: none;
            mix-blend-mode: normal;
        }
        ::view-transition-old(root) { z-index: 1; }
        ::view-transition-new(root) { z-index: 2147483646; }
        [data-theme="dark"]::view-transition-old(root) { z-index: 2147483646; }
        [data-theme="dark"]::view-transition-new(root) { z-index: 1; }

        /* --- UI COMPONENTS --- */
        .glass {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--glass-border);
        }
        .glass-panel {
            background: var(--panel-bg);
            backdrop-filter: blur(24px);
            border: 1px solid var(--glass-border);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }
        
        h1, h2, h3 { letter-spacing: -0.02em; }
        .code-font { font-family: 'JetBrains Mono', monospace; }
        
        /* Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #D1D1D6; border-radius: 10px; }
        [data-theme="dark"] ::-webkit-scrollbar-thumb { background: #48484A; }
        ::-webkit-scrollbar-thumb:hover { background: #8E8E93; }

        /* Animations */
        .fade-in { animation: fadeIn 0.4s cubic-bezier(0.2, 0.8, 0.2, 1) forwards; }
        .slide-up { animation: slideUp 0.4s cubic-bezier(0.2, 0.8, 0.2, 1) forwards; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .nav-item { color: var(--text-secondary); }
        .nav-item.active {
            background: var(--bg-body);
            color: var(--text-main);
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            font-weight: 600;
        }

        .chart-wrapper { position: relative; height: 300px; width: 100%; }
        
        .timeline-line {
            position: absolute; left: 24px; top: 40px; bottom: -20px; width: 2px;
            background: var(--timeline-line); z-index: 0;
        }
        .syllabus-item:last-child .timeline-line { display: none; }

        /* Platzi Card Style - Preserved but adapted */
        .platzi-card {
            background: linear-gradient(135deg, #0e1629 0%, #152733 100%);
            color: white;
            transition: transform 0.2s ease;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .platzi-badge { background: #98ca3f; color: #121f3d; font-weight: bold; font-size: 0.65rem; padding: 2px 6px; border-radius: 4px; display: inline-block; margin-top: 4px; }
        
        /* Syllabus Item Hover in Dark Mode */
        [data-theme="dark"] .syllabus-item:hover { background-color: #1C1C1E; border-color: #38383A; }
    </style>
</head>
<body class="h-screen flex flex-col selection:bg-blue-500 selection:text-white transition-colors duration-300">

    <!-- Nav -->
    <nav class="glass sticky top-0 z-50 h-16 flex items-center justify-between px-6 shrink-0 transition-colors duration-300">
        <div class="flex items-center gap-3">
            <div class="w-8 h-8 bg-black dark:bg-white text-white dark:text-black rounded-lg flex items-center justify-center font-bold text-sm shadow-lg transition-colors">AI</div>
            <div class="leading-none">
                <span class="block text-sm font-semibold">Career OS</span>
                <span class="block text-[10px] text-gray-500 font-medium uppercase tracking-wide">Automation Architect</span>
            </div>
        </div>
        
        <!-- Center Tabs -->
        <div class="hidden md:flex bg-gray-100/80 dark:bg-white/10 p-1 rounded-xl backdrop-blur-md transition-colors">
            <button onclick="switchTab('dashboard')" id="btn-dashboard" class="nav-item active px-5 py-1.5 rounded-lg text-sm transition-all duration-200">Diagn√≥stico</button>
            <button onclick="switchTab('roadmap')" id="btn-roadmap" class="nav-item px-5 py-1.5 rounded-lg text-sm transition-all duration-200">Roadmap Fase 1</button>
            <button onclick="switchTab('strategy')" id="btn-strategy" class="nav-item px-5 py-1.5 rounded-lg text-sm transition-all duration-200">Protocolo Diario</button>
        </div>

        <!-- Right Controls -->
        <div class="flex items-center gap-4">
            <!-- THEME SWITCHER -->
            <button class="theme-toggle" id="theme-toggle" aria-label="Toggle Dark Mode">
                <svg class="sun-and-moon" aria-hidden="true" width="24" height="24" viewBox="0 0 24 24">
                    <circle class="sun" cx="12" cy="12" r="6" mask="url(#moon-mask)" fill="currentColor" />
                    <g class="sun-beams" stroke="currentColor">
                        <line x1="12" y1="1" x2="12" y2="3" />
                        <line x1="12" y1="21" x2="12" y2="23" />
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" />
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" />
                        <line x1="1" y1="12" x2="3" y2="12" />
                        <line x1="21" y1="12" x2="23" y2="12" />
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" />
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" />
                    </g>
                    <mask class="moon" id="moon-mask">
                        <rect x="0" y="0" width="100%" height="100%" fill="white" />
                        <circle cx="24" cy="10" r="6" fill="black" />
                    </mask>
                </svg>
            </button>

            <div class="w-px h-6 bg-gray-300 dark:bg-gray-700 mx-1"></div>

            <div class="hidden sm:block text-right">
                <div class="text-[10px] text-gray-500 font-bold uppercase">Inicio Fase 1</div>
                <div class="text-xs font-semibold">02 Feb, 2026</div>
            </div>
            <div class="w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 shadow-inner"></div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="flex-grow relative overflow-hidden w-full h-full transition-colors duration-300">
        
        <!-- DASHBOARD -->
        <section id="view-dashboard" class="absolute inset-0 overflow-y-auto p-6 md:p-12 custom-scroll w-full h-full">
            <div class="max-w-6xl mx-auto space-y-8 slide-up">
                <div class="text-center mb-10">
                    <h1 class="text-4xl font-bold mb-3 tracking-tight">Tu Perfil vs. El Mercado</h1>
                    <p class="text-lg text-gray-500 max-w-2xl mx-auto">
                        Transici√≥n Estrat√©gica: <span class="font-semibold dark:text-gray-200">Product Owner</span> ‚ûî <span class="text-blue-600 dark:text-blue-400 font-semibold">Arquitecto de Automatizaci√≥n</span>.
                    </p>
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="glass-panel rounded-2xl p-8 flex flex-col justify-center transition-colors">
                        <h3 class="text-lg font-semibold mb-6">Brecha T√©cnica</h3>
                        <div class="space-y-6">
                            <div class="flex gap-4">
                                <div class="w-10 h-10 rounded-full bg-red-50 dark:bg-red-900/20 text-red-500 flex items-center justify-center text-xl shrink-0">üíª</div>
                                <div>
                                    <h4 class="font-bold">Programaci√≥n (Python)</h4>
                                    <p class="text-sm text-gray-500 mt-1">Estado: Inicial. Objetivo: Escribir scripts aut√≥nomos sin copiar/pegar ciegamente.</p>
                                </div>
                            </div>
                            <div class="flex gap-4">
                                <div class="w-10 h-10 rounded-full bg-amber-50 dark:bg-amber-900/20 text-amber-500 flex items-center justify-center text-xl shrink-0">üóÑÔ∏è</div>
                                <div>
                                    <h4 class="font-bold">Datos (SQL)</h4>
                                    <p class="text-sm text-gray-500 mt-1">Estado: Consultor. Objetivo: Arquitecto (Dise√±ar esquemas normalizados).</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="glass-panel rounded-2xl p-8 flex flex-col items-center transition-colors">
                        <h3 class="text-lg font-semibold mb-4 w-full text-left">Proyecci√≥n 4 Meses</h3>
                        <div class="chart-wrapper"><canvas id="skillsChart"></canvas></div>
                    </div>
                </div>
                <div class="text-center mt-8">
                    <button onclick="switchTab('roadmap')" class="bg-black dark:bg-white text-white dark:text-black px-8 py-3 rounded-full font-medium shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all">
                        Ir al Plan de Ejecuci√≥n ‚ûî
                    </button>
                </div>
            </div>
        </section>

        <!-- ROADMAP -->
        <section id="view-roadmap" class="absolute inset-0 hidden w-full h-full">
            <div class="flex flex-col md:flex-row w-full h-full">
                <!-- Sidebar List -->
                <div class="w-full md:w-1/3 lg:w-1/4 bg-white/50 dark:bg-black/50 backdrop-blur-xl border-r border-gray-200 dark:border-gray-800 overflow-y-auto custom-scroll flex flex-col z-10 h-full shrink-0 transition-colors">
                    <div class="p-5 border-b border-gray-100 dark:border-gray-800 bg-white/80 dark:bg-black/80 sticky top-0 z-20 backdrop-blur shrink-0 transition-colors">
                        <h2 class="font-bold">Syllabus 16 Semanas</h2>
                        <p class="text-xs text-gray-500 mt-1">Definition of Done ‚Ä¢ Inicio 02 Feb</p>
                    </div>
                    <div id="timeline-container" class="p-3 space-y-1 pb-20"></div>
                </div>
                <!-- Content Area -->
                <div class="flex-grow overflow-y-auto custom-scroll relative h-full w-full">
                    <div id="detail-content" class="max-w-4xl mx-auto p-6 md:p-12 min-h-full flex flex-col justify-start"></div>
                </div>
            </div>
        </section>

        <!-- STRATEGY -->
        <section id="view-strategy" class="absolute inset-0 overflow-y-auto p-6 md:p-12 custom-scroll w-full h-full hidden">
            <div class="max-w-4xl mx-auto slide-up pb-20">
                <h2 class="text-3xl font-bold mb-8">Protocolo Diario</h2>
                <div class="grid gap-6">
                    <div class="glass-panel p-8 rounded-2xl transition-colors">
                        <h3 class="text-xl font-bold">Sesi√≥n de 2 Horas</h3>
                        <p class="text-gray-500 mt-2">La consistencia le gana a la intensidad. Sigue este bloque sagrado.</p>
                        <ul class="mt-4 space-y-2 text-sm text-gray-600 dark:text-gray-400">
                            <li><strong>Min 0-20 (Teor√≠a):</strong> Ver la lecci√≥n espec√≠fica del temario. Tomar notas conceptuales.</li>
                            <li><strong>Min 20-80 (Pr√°ctica):</strong> Abrir VS Code. Intentar replicar el c√≥digo sin mirar. Fallar. Arreglar el error.</li>
                            <li><strong>Min 80-120 (Proyecto):</strong> Avanzar un paso peque√±o en el Proyecto Semanal.</li>
                        </ul>
                    </div>
                    <div class="glass-panel p-8 rounded-2xl bg-gray-900 text-white transition-colors">
                        <h3 class="text-lg font-bold mb-4 text-white">Hardware Config (GTX 1650)</h3>
                        <ul class="space-y-3 text-sm text-gray-300 font-mono">
                            <li>‚úì VS Code (Editor) + Extensiones Python.</li>
                            <li>‚úì Docker Desktop (Backend WSL2 para rendimiento).</li>
                            <li>‚úì LM Studio (Para cargar modelos GGUF en GPU 1).</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <script>
        dayjs.locale('es');
        const startDate = dayjs('2026-02-02');
        let currentTheme = localStorage.getItem('theme') || 'light';

        // --- DARK MODE LOGIC (VIEW TRANSITIONS) ---
        function updateChartColors() {
            const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
            const gridColor = isDark ? '#333' : '#e5e7eb';
            const pointColor = isDark ? '#FFF' : '#2563eb';
            const labelColor = isDark ? '#A1A1A6' : '#64748b';

            if (window.myChart) {
                window.myChart.options.scales.r.grid.color = gridColor;
                window.myChart.options.scales.r.angleLines.color = gridColor;
                window.myChart.options.scales.r.pointLabels.color = labelColor;
                window.myChart.data.datasets[1].pointBackgroundColor = pointColor;
                window.myChart.data.datasets[1].borderColor = pointColor;
                window.myChart.update();
            }
        }

        function setTheme(theme) {
            document.documentElement.setAttribute('data-theme', theme);
            if (theme === 'dark') {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
            localStorage.setItem('theme', theme);
            currentTheme = theme;
            updateChartColors();
        }

        // Initialize Theme
        setTheme(currentTheme);

        document.getElementById('theme-toggle').addEventListener('click', (e) => {
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';

            // Check if View Transitions API is supported
            if (!document.startViewTransition) {
                setTheme(newTheme);
                return;
            }

            // Get click position for the circle effect
            const x = e.clientX;
            const y = e.clientY;

            const endRadius = Math.hypot(
                Math.max(x, innerWidth - x),
                Math.max(y, innerHeight - y)
            );

            const transition = document.startViewTransition(() => {
                setTheme(newTheme);
            });

            transition.ready.then(() => {
                const clipPath = [
                    `circle(0px at ${x}px ${y}px)`,
                    `circle(${endRadius}px at ${x}px ${y}px)`,
                ];
                
                document.documentElement.animate(
                    {
                        clipPath: currentTheme === 'dark' ? clipPath : [...clipPath].reverse(),
                    },
                    {
                        duration: 400,
                        easing: "ease-in",
                        pseudoElement: currentTheme === 'dark' ? "::view-transition-new(root)" : "::view-transition-old(root)",
                    }
                );
            });
        });
        
        // --- DATA & CONTENT ---
        const roadmapData = [
             {
                week: 1,
                block: "Fundamentos T√©cnicos",
                title: "L√≥gica & Sintaxis",
                desc: "Hablar el idioma de la m√°quina. Variables, Tipos y Consola.",
                study_guide: "<div><h4 class='font-bold mb-2'>1. Variables y Tipos</h4><p class='text-sm text-gray-500 mb-2'>Diferencia estricta entre <code>int</code>, <code>str</code>, <code>bool</code>. <code>'5' != 5</code>.</p><h4 class='font-bold mb-2'>2. I/O</h4><p class='text-sm text-gray-500'>Uso de <code>print()</code> y <code>input()</code>.</p></div>",
                criteria: ["Explicar diferencia '5' vs 5", "Script suma inputs usuario", "Uso de f-strings", "Ejecutar .py en terminal"],
                project: "Calculadora de ROI: Script CLI que pide Costo/Ingreso y calcula margen.",
                concept: "Memoria RAM",
                courses: [
                    { name: "Curso de Python", url: "https://platzi.com/cursos/python/", date: "Jun 2024" },
                    { name: "Fundamentos de Programaci√≥n", url: "https://platzi.com/cursos/programacion-basica/", date: "Recurrente" },
                    { name: "Terminal y L√≠nea de Comandos", url: "https://platzi.com/cursos/terminal/", date: "2024" },
                    { name: "Git y GitHub", url: "https://platzi.com/cursos/git-github/", date: "2024" }
                ]
            },
            {
                week: 2,
                block: "Fundamentos T√©cnicos",
                title: "Control de Flujo",
                desc: "Decisiones autom√°ticas. If, Else y Bucles.",
                study_guide: "<div><h4 class='font-bold mb-2'>1. Condicionales</h4><p class='text-sm text-gray-500 mb-2'><code>if/else</code> y l√≥gica booleana.</p><h4 class='font-bold mb-2'>2. Colecciones</h4><p class='text-sm text-gray-500'>Listas <code>[]</code> y Diccionarios <code>{}</code>.</p></div>",
                criteria: ["L√≥gica par/impar", "Bucle for en lista", "Acceso a Diccionario", "Manejo IndexError"],
                project: "Clasificador de Leads: Filtrar usuarios VIP.",
                concept: "L√≥gica",
                courses: [
                    { name: "Pensamiento L√≥gico: Algoritmos", url: "https://platzi.com/cursos/pensamiento-logico/", date: "Jun 2025" },
                    { name: "Estructuras de Datos Python", url: "https://platzi.com/cursos/estructuras-datos-python/", date: "2024" },
                    { name: "Matem√°ticas para Programaci√≥n", url: "https://platzi.com/cursos/matematicas-programacion/", date: "2024" },
                    { name: "Complejidad Algor√≠tmica", url: "https://platzi.com/cursos/complejidad-algoritmica/", date: "2023" }
                ]
            },
            {
                week: 3,
                block: "Fundamentos T√©cnicos",
                title: "Modularidad",
                desc: "Funciones, Scope y Librer√≠as.",
                study_guide: "<div><h4 class='font-bold mb-2'>1. Funciones</h4><p class='text-sm text-gray-500 mb-2'><code>def</code>, return y scope.</p><h4 class='font-bold mb-2'>2. Entornos</h4><p class='text-sm text-gray-500'>Entornos virtuales (venv).</p></div>",
                criteria: ["Funci√≥n con return", "Importar librer√≠as", "Explicar Scope", "Llamada entre funciones"],
                project: "Conversor Modular: Archivo utils.py.",
                concept: "Abstracci√≥n",
                courses: [
                    { name: "Python: Funciones", url: "https://platzi.com/cursos/python-funciones/", date: "2024" },
                    { name: "Entornos Virtuales y PIP", url: "https://platzi.com/cursos/python-pip/", date: "Feb 2023" },
                    { name: "Principios SOLID y Clean Code", url: "https://platzi.com/cursos/solid-clean/", date: "2024" },
                    { name: "Debugging con Python", url: "https://platzi.com/cursos/python-debugging/", date: "2023" }
                ]
            },
            {
                week: 4,
                block: "Fundamentos T√©cnicos",
                title: "APIs & JSON",
                desc: "Conectividad con internet.",
                study_guide: "<div><h4 class='font-bold mb-2'>1. Requests</h4><p class='text-sm text-gray-500 mb-2'>GET/POST y librer√≠a <code>requests</code>.</p><h4 class='font-bold mb-2'>2. JSON</h4><p class='text-sm text-gray-500'>Parsing texto a objetos.</p></div>",
                criteria: ["GET a API p√∫blica", "JSON parsing", "Try/Except", "Uso de .env"],
                project: "Consultor Crypto: Precio BTC API.",
                concept: "Integraci√≥n",
                courses: [
                    { name: "Consumo API REST Python", url: "https://platzi.com/cursos/python-consumo-api/", date: "2024" },
                    { name: "API First", url: "https://platzi.com/cursos/apifirst/", date: "Jul 2025" },
                    { name: "Fundamentos de Redes", url: "https://platzi.com/cursos/redes/", date: "2023" },
                    { name: "Postman", url: "https://platzi.com/cursos/postman/", date: "2024" }
                ]
            },
            // BLOQUE 2: DATOS
            {
                week: 5,
                block: "Ingenier√≠a de Datos",
                title: "Dise√±o SQL",
                desc: "Modelo Relacional y DDL.",
                study_guide: "<div><h4 class='font-bold mb-2'>1. Modelo Relacional</h4><p class='text-sm text-gray-500 mb-2'>PKs, FKs y Tipos.</p><h4 class='font-bold mb-2'>2. DDL</h4><p class='text-sm text-gray-500'>CREATE TABLE.</p></div>",
                criteria: ["Instalar Postgres", "Crear DB local", "Script CREATE TABLE", "Entender UNIQUE"],
                project: "Arquitectura DB: Esquema E-commerce.",
                concept: "Estructura",
                courses: [
                    { name: "PostgreSQL", url: "https://platzi.com/cursos/postgresql/", date: "May 2025" },
                    { name: "Fundamentos Bases de Datos", url: "https://platzi.com/cursos/bd/", date: "2024" },
                    { name: "Dise√±o Bases de Datos", url: "https://platzi.com/cursos/diseno-bd/", date: "2023" },
                    { name: "√Ålgebra Relacional", url: "https://platzi.com/cursos/algebra-bd/", date: "2023" }
                ]
            },
            {
                week: 6,
                block: "Ingenier√≠a de Datos",
                title: "SQL + Python",
                desc: "Manipulaci√≥n de datos (DML).",
                study_guide: "<div><h4 class='font-bold mb-2'>1. DML</h4><p class='text-sm text-gray-500 mb-2'>CRUD Operations.</p><h4 class='font-bold mb-2'>2. Drivers</h4><p class='text-sm text-gray-500'>Psycopg2 y cursores.</p></div>",
                criteria: ["INSERT desde Python", "SELECT y print", "Prevenir SQL Injection", "Commit"],
                project: "Ingestador CSV: Excel a Postgres.",
                concept: "Persistencia",
                courses: [
                    { name: "Backend Python API REST", url: "https://platzi.com/cursos/fastapi/", date: "Nov 2024" },
                    { name: "SQL y MySQL", url: "https://platzi.com/cursos/sql-mysql/", date: "2024" },
                    { name: "Python y SQL", url: "https://platzi.com/cursos/python-sql/", date: "2023" },
                    { name: "SQL Pr√°ctico", url: "https://platzi.com/cursos/sql-practico/", date: "2024" }
                ]
            },
            {
                week: 7,
                block: "Ingenier√≠a de Datos",
                title: "JS para n8n",
                desc: "Nodo Code y L√≥gica Avanzada.",
                study_guide: "<div><h4 class='font-bold mb-2'>1. JS Moderno</h4><p class='text-sm text-gray-500 mb-2'>Arrays y Objetos.</p><h4 class='font-bold mb-2'>2. Regex</h4><p class='text-sm text-gray-500'>Validaci√≥n texto.</p></div>",
                criteria: ["JS map/filter", "Regex email", "Fechas JS", "Estructura n8n"],
                project: "Limpiador Data: Workflow n8n JS.",
                concept: "Transformaci√≥n",
                courses: [
                    { name: "Fundamentos JavaScript", url: "https://platzi.com/cursos/javascript/", date: "Jul 2024" },
                    { name: "Expresiones Regulares", url: "https://platzi.com/cursos/expresiones-regulares/", date: "2023" },
                    { name: "Asincronismo JS", url: "https://platzi.com/cursos/asincronismo-js/", date: "2024" },
                    { name: "Manipulaci√≥n Arrays JS", url: "https://platzi.com/cursos/arrays/", date: "2023" }
                ]
            },
            {
                week: 8,
                block: "Ingenier√≠a de Datos",
                title: "FastAPI Backend",
                desc: "Creaci√≥n de APIs.",
                study_guide: "<div><h4 class='font-bold mb-2'>1. FastAPI</h4><p class='text-sm text-gray-500 mb-2'>Endpoints y Decoradores.</p><h4 class='font-bold mb-2'>2. Uvicorn</h4><p class='text-sm text-gray-500'>Servidor web.</p></div>",
                criteria: ["Server Hello World", "POST JSON", "Validaci√≥n", "Swagger UI"],
                project: "Microservicio Texto: API conteo.",
                concept: "Servicios",
                courses: [
                    { name: "FastAPI Fundamentos", url: "https://platzi.com/cursos/fastapi/", date: "Nov 2024" },
                    { name: "FastAPI DB Auth", url: "https://platzi.com/cursos/fastapi-bd/", date: "2024" },
                    { name: "Testing Python", url: "https://platzi.com/cursos/python-testing/", date: "2024" },
                    { name: "Introducci√≥n Web", url: "https://platzi.com/cursos/web/", date: "2023" }
                ]
            },
            // BLOQUE 3: IA
            {
                week: 9,
                block: "AI Engineering",
                title: "OpenAI API",
                desc: "Programaci√≥n de LLMs.",
                study_guide: "<div><h4 class='font-bold mb-2'>1. API Client</h4><p class='text-sm text-gray-500 mb-2'>Auth y ChatCompletion.</p><h4 class='font-bold mb-2'>2. Roles</h4><p class='text-sm text-gray-500'>System, User, Assistant.</p></div>",
                criteria: ["Llamada GPT-4", "System Prompt", "Parsear JSON", "Loop chat"],
                project: "Traductor Corporativo.",
                concept: "Inteligencia",
                courses: [
                    { name: "Chatbots OpenAI", url: "https://platzi.com/cursos/openai-api-23/", date: "Jul 2023" },
                    { name: "Ingenier√≠a de Prompts", url: "https://platzi.com/cursos/prompt-engineering/", date: "2024" },
                    { name: "√âtica IA", url: "https://platzi.com/cursos/etica-ia/", date: "2024" },
                    { name: "Datos Sint√©ticos", url: "https://platzi.com/cursos/datos-sinteticos/", date: "2024" }
                ]
            },
            {
                week: 10,
                block: "AI Engineering",
                title: "IA Local (GGUF)",
                desc: "Modelos Offline (GPU).",
                study_guide: "<div><h4 class='font-bold mb-2'>1. GGUF</h4><p class='text-sm text-gray-500 mb-2'>Cuantizaci√≥n.</p><h4 class='font-bold mb-2'>2. Ollama</h4><p class='text-sm text-gray-500'>Inferencia local.</p></div>",
                criteria: ["Instalar Ollama", "Correr modelo", "Python a Localhost", "Monitor GPU"],
                project: "Chatbot Offline.",
                concept: "Soberan√≠a",
                courses: [
                    { name: "Hugging Face", url: "https://platzi.com/cursos/hugging-face/", date: "2024" },
                    { name: "LLMs", url: "https://platzi.com/cursos/llms/", date: "2024" },
                    { name: "Linux", url: "https://platzi.com/cursos/linux/", date: "2024" },
                    { name: "Docker", url: "https://platzi.com/cursos/docker/", date: "2024" }
                ]
            },
            {
                week: 11,
                block: "AI Engineering",
                title: "RAG",
                desc: "Chat con Documentos.",
                study_guide: "<div><h4 class='font-bold mb-2'>1. Embeddings</h4><p class='text-sm text-gray-500 mb-2'>Vectores.</p><h4 class='font-bold mb-2'>2. Vector DB</h4><p class='text-sm text-gray-500'>ChromaDB.</p></div>",
                criteria: ["Generar embeddings", "Guardar ChromaDB", "B√∫squeda sem√°ntica", "Contexto LLM"],
                project: "Buscador Sem√°ntico.",
                concept: "Contexto",
                courses: [
                    { name: "LangChain", url: "https://platzi.com/cursos/langchain-chatbots/", date: "Jul 2023" },
                    { name: "LangChain Docs", url: "https://platzi.com/cursos/langchain-documents/", date: "Nov 2023" },
                    { name: "Vector Databases", url: "https://platzi.com/cursos/vector-databases/", date: "2024" },
                    { name: "B√∫squeda Sem√°ntica", url: "https://platzi.com/cursos/busqueda-semantica/", date: "2024" }
                ]
            },
            {
                week: 12,
                block: "AI Engineering",
                title: "Agentes",
                desc: "Function Calling & Tools.",
                study_guide: "<div><h4 class='font-bold mb-2'>1. Tools</h4><p class='text-sm text-gray-500 mb-2'>Definici√≥n JSON.</p><h4 class='font-bold mb-2'>2. Loop</h4><p class='text-sm text-gray-500'>Pensar-Actuar.</p></div>",
                criteria: ["Tool JSON", "Request tool_call", "Ejecutar funci√≥n", "Feedback"],
                project: "Asistente SQL Natural.",
                concept: "Agencia",
                courses: [
                    { name: "Agentes IA", url: "https://platzi.com/cursos/agentes-ia/", date: "2024" },
                    { name: "LangChain Agentes", url: "https://platzi.com/cursos/langchain-agentes/", date: "2024" },
                    { name: "Orquestaci√≥n LangChain", url: "https://platzi.com/cursos/orquestacion-langchain/", date: "2024" },
                    { name: "Apps LLMs", url: "https://platzi.com/cursos/apps-llms/", date: "2024" }
                ]
            },
            // CAPSTONE
            {
                week: 13,
                block: "Proyecto Final",
                title: "Arquitectura",
                desc: "Planificaci√≥n.",
                study_guide: "<div><p class='text-sm text-gray-500'>Diagramas y Git.</p></div>",
                criteria: ["Diagrama", "Esquema DB", "Repo Git"],
                project: "Documento TDD.",
                concept: "Dise√±o",
                courses: [
                    { name: "Arquitectura Software", url: "https://platzi.com/cursos/fundamentos-arquitectura-software/", date: "May 2025" },
                    { name: "Git GitHub", url: "https://platzi.com/cursos/git-github/", date: "2024" },
                    { name: "Diagramas Flujo", url: "https://platzi.com/cursos/diagramas-flujo/", date: "2023" },
                    { name: "Scrum", url: "https://platzi.com/cursos/scrum/", date: "2024" }
                ]
            },
            {
                week: 14,
                block: "Proyecto Final",
                title: "Backend Core",
                desc: "Construcci√≥n.",
                study_guide: "<div><p class='text-sm text-gray-500'>Implementaci√≥n.</p></div>",
                criteria: ["API OK", "Postgres OK", "Ingesta OK"],
                project: "Backend Funcional.",
                concept: "Construcci√≥n",
                courses: [
                    { name: "Arquitectura Aplicada", url: "https://platzi.com/cursos/software-avanzado/", date: "Jul 2025" },
                    { name: "Docker", url: "https://platzi.com/cursos/docker/", date: "2024" },
                    { name: "Deploy", url: "https://platzi.com/cursos/deploy/", date: "2024" },
                    { name: "CI/CD", url: "https://platzi.com/cursos/cicd/", date: "2024" }
                ]
            },
            {
                week: 15,
                block: "Proyecto Final",
                title: "Cerebro IA",
                desc: "Integraci√≥n.",
                study_guide: "<div><p class='text-sm text-gray-500'>RAG y Agentes.</p></div>",
                criteria: ["RAG OK", "Agente OK"],
                project: "Sistema Inteligente.",
                concept: "Inteligencia",
                courses: [
                    { name: "Ingenier√≠a Datos Python", url: "https://platzi.com/cursos/ingenieria-datos-python/", date: "2024" },
                    { name: "MLOps", url: "https://platzi.com/cursos/mlops/", date: "2024" },
                    { name: "Data Pipelines", url: "https://platzi.com/cursos/data-pipelines/", date: "2024" },
                    { name: "Monitorizaci√≥n ML", url: "https://platzi.com/cursos/monitorizacion-ml/", date: "2024" }
                ]
            },
            {
                week: 16,
                block: "Proyecto Final",
                title: "Frontend & Entrega",
                desc: "UI y Pitch.",
                study_guide: "<div><p class='text-sm text-gray-500'>Streamlit y Demo.</p></div>",
                criteria: ["UI OK", "Video OK", "Post OK"],
                project: "Terminado.",
                concept: "Despliegue",
                courses: [
                    { name: "Streamlit", url: "https://platzi.com/cursos/streamlit/", date: "2024" },
                    { name: "Marca Personal", url: "https://platzi.com/cursos/marca-personal/", date: "2024" },
                    { name: "Comunicaci√≥n Efectiva", url: "https://platzi.com/cursos/comunicacion-efectiva/", date: "2024" },
                    { name: "LinkedIn", url: "https://platzi.com/cursos/linkedin/", date: "2024" }
                ]
            }
        ];

        // RENDER LOGIC
        function renderTimeline() {
            const container = document.getElementById('timeline-container');
            const now = dayjs();
            container.innerHTML = '';

            roadmapData.forEach((item, index) => {
                const itemStart = startDate.add(index, 'week');
                const itemEnd = itemStart.add(6, 'day');
                const isCurrent = now.isAfter(itemStart) && now.isBefore(itemEnd);
                const isPast = now.isAfter(itemEnd);

                let statusClass = "border-gray-200 dark:border-gray-800 bg-white dark:bg-black/50 hover:border-gray-300 dark:hover:border-gray-600";
                let iconClass = "bg-gray-100 text-gray-400 dark:bg-gray-800 dark:text-gray-500";
                let iconContent = item.week;
                
                if (isCurrent) {
                    statusClass = "border-blue-500 bg-blue-50 dark:bg-blue-900/20 shadow-sm";
                    iconClass = "bg-blue-600 text-white shadow-lg shadow-blue-500/30";
                    iconContent = "Now";
                } else if (isPast) {
                    statusClass = "border-green-200 dark:border-green-900 bg-green-50/50 dark:bg-green-900/10 opacity-70";
                    iconClass = "bg-green-100 text-green-600 dark:bg-green-900 dark:text-green-400";
                    iconContent = "‚úì";
                }

                const el = document.createElement('div');
                el.className = `syllabus-item relative group cursor-pointer p-4 rounded-xl border transition-all duration-200 mb-3 ${statusClass}`;
                el.onclick = () => renderDetail(index);
                el.innerHTML = `
                    <div class="timeline-line"></div>
                    <div class="flex gap-4 relative z-10">
                        <div class="w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold shrink-0 ${iconClass}">${iconContent}</div>
                        <div>
                            <div class="text-[10px] font-bold uppercase tracking-wider text-gray-400 mb-0.5">${item.block}</div>
                            <h4 class="text-sm font-bold leading-tight group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors">${item.title}</h4>
                            <p class="text-xs text-gray-500 mt-1 font-mono">${itemStart.format('DD MMM')}</p>
                        </div>
                    </div>
                `;
                container.appendChild(el);
            });
            renderDetail(0);
        }

        function renderDetail(index) {
            const item = roadmapData[index];
            const itemStart = startDate.add(index, 'week');
            const container = document.getElementById('detail-content');

            container.classList.remove('slide-up');
            void container.offsetWidth;
            container.classList.add('slide-up');

            // Build Courses
            const coursesHtml = item.courses.map(c => `
                <a href="${c.url}" target="_blank" class="flex flex-col justify-between p-4 bg-white/10 rounded-lg hover:bg-white/20 transition-colors group border border-white/10 h-full">
                    <div>
                        <div class="flex items-center gap-3 mb-2">
                            <div class="w-6 h-6 rounded bg-white text-[#121f3d] flex items-center justify-center font-bold text-[10px] shrink-0">P</div>
                            <span class="platzi-badge">${c.date}</span>
                        </div>
                        <span class="text-sm font-medium text-white group-hover:text-[#98ca3f] transition-colors leading-tight block">${c.name}</span>
                    </div>
                </a>
            `).join('');

            container.innerHTML = `
                <div class="pb-20">
                    <div class="flex items-center gap-3 mb-6">
                        <span class="px-3 py-1 rounded-full bg-white dark:bg-white/10 border border-gray-200 dark:border-gray-700 text-xs font-bold uppercase tracking-wide text-gray-500 dark:text-gray-400 shadow-sm">Semana ${item.week}</span>
                        <span class="text-gray-400 text-sm font-medium">${itemStart.format('DD MMMM, YYYY')}</span>
                    </div>
                    
                    <h2 class="text-3xl md:text-5xl font-bold mb-6 tracking-tight text-black dark:text-white transition-colors">${item.title}</h2>
                    
                    <div class="glass p-6 rounded-2xl border-l-4 border-blue-600 mb-10 shadow-sm transition-colors">
                        <p class="text-lg text-gray-700 dark:text-gray-300 leading-relaxed font-medium">"${item.desc}"</p>
                    </div>

                    <div class="mb-10">
                        <h3 class="text-sm font-bold text-gray-900 dark:text-gray-100 uppercase tracking-wide mb-4 flex items-center gap-2">
                            <span class="text-xl">üìñ</span> Gu√≠a de Estudio
                        </h3>
                        <div class="glass-panel p-6 rounded-2xl transition-colors">
                            ${item.study_guide}
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-10">
                        <!-- CHECKLIST -->
                        <div class="glass-panel p-8 rounded-3xl h-full transition-colors">
                            <h3 class="text-sm font-bold text-gray-900 dark:text-gray-100 uppercase tracking-wide mb-6 flex items-center gap-2">
                                <span class="w-2 h-2 rounded-full bg-emerald-500"></span>
                                Definition of Done
                            </h3>
                            <ul class="space-y-4">
                                ${item.criteria.map(c => `
                                    <li class="flex items-start gap-3 text-gray-700 dark:text-gray-300 leading-snug text-sm">
                                        <input type="checkbox" class="mt-1 w-4 h-4 text-emerald-600 rounded focus:ring-emerald-500 border-gray-300 shrink-0" />
                                        <span>${c}</span>
                                    </li>
                                `).join('')}
                            </ul>
                        </div>

                        <!-- PROJECT -->
                        <div class="flex flex-col gap-6 h-full">
                            <div class="bg-gradient-to-br from-gray-900 to-gray-800 dark:from-gray-800 dark:to-black text-white p-8 rounded-3xl shadow-xl relative overflow-hidden group flex-grow transition-colors">
                                <h3 class="text-xs font-bold text-gray-400 uppercase tracking-wide mb-2">Proyecto Pr√°ctico</h3>
                                <p class="text-xl font-bold leading-snug relative z-10 group-hover:text-blue-200 transition-colors">${item.project}</p>
                                <div class="mt-6 inline-flex items-center gap-2 text-xs font-mono text-gray-400 border border-gray-700 px-3 py-1 rounded-full">
                                    <span>GTX 1650 Compatible</span>
                                </div>
                            </div>
                            
                            <div class="glass p-6 rounded-2xl flex items-center justify-between shrink-0 transition-colors">
                                <div>
                                    <p class="text-xs text-gray-500 uppercase font-bold">Foco Principal</p>
                                    <p class="text-lg font-bold text-blue-600 dark:text-blue-400">${item.concept}</p>
                                </div>
                                <div class="text-3xl opacity-20">üéØ</div>
                            </div>
                        </div>
                    </div>

                    <!-- COURSES -->
                    <div class="mt-10">
                        <h3 class="text-sm font-bold text-gray-900 dark:text-gray-100 uppercase tracking-wide mb-4 flex items-center gap-2">
                            <span class="text-xl">üöÄ</span> Ruta de Aprendizaje Platzi (4 Cursos)
                        </h3>
                        <div class="platzi-card p-6 rounded-2xl shadow-lg">
                            <p class="text-xs text-gray-300 mb-4 uppercase tracking-wider font-bold">Selecci√≥n Curada</p>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                                ${coursesHtml}
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function initChart() {
            const ctx = document.getElementById('skillsChart').getContext('2d');
            window.myChart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['Python', 'SQL', 'L√≥gica Datos', 'IA/LLMs', 'APIs'],
                    datasets: [{
                        label: 'Hoy',
                        data: [1, 3, 8, 4, 2],
                        backgroundColor: 'rgba(148, 163, 184, 0.2)',
                        borderColor: '#94a3b8',
                        borderWidth: 1, pointRadius: 0
                    }, {
                        label: 'Meta',
                        data: [8, 8, 9, 8, 7],
                        backgroundColor: 'rgba(37, 99, 235, 0.2)',
                        borderColor: '#2563eb',
                        borderWidth: 2, pointBackgroundColor: '#2563eb'
                    }]
                },
                options: {
                    maintainAspectRatio: false,
                    scales: { r: { angleLines: {color:'#e5e7eb'}, grid: {color:'#e5e7eb'}, suggestedMin: 0, suggestedMax: 10, ticks: {display: false}, pointLabels: {font: {family:'Inter', size:10, weight:'600'}} } },
                    plugins: { legend: { position: 'bottom', labels: { usePointStyle: true, boxWidth: 6 } } }
                }
            });
            updateChartColors();
        }

        function switchTab(viewId) {
            ['dashboard', 'roadmap', 'strategy'].forEach(id => {
                document.getElementById(`view-${id}`).classList.add('hidden');
                document.getElementById(`view-${id}`).classList.remove('fade-in'); 
                document.getElementById(`btn-${id}`).classList.remove('active');
            });
            const selectedView = document.getElementById(`view-${viewId}`);
            selectedView.classList.remove('hidden');
            selectedView.classList.add('fade-in');
            document.getElementById(`btn-${viewId}`).classList.add('active');
            if(viewId === 'dashboard') window.dispatchEvent(new Event('resize'));
        }

        document.addEventListener('DOMContentLoaded', () => {
            initChart();
            renderTimeline();
            switchTab('dashboard');
        });
    </script>
</body>
</html>
